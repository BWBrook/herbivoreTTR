# Herbivore TTR

Large herbivore model linked with the Thornley Transport Resistance (TTR) model as a simple vegetation  
model to stand-in for wiring the herbivore model to a full aDGVM.

This R-basedquantitative plant–herbivore simulation model was ported from a C++ implementation written 
by Rebecca Wheatley (https://github.com/becwheatley), and then elaborated herein. 

Implements a TTR model for plant growth coupled with individual-based herbivore foraging behaviour.  

This package aims to facilitate testing, calibration, and extension within the R ecosystem.  

## Structure overview

```
herbivoreTTR/
├── DESCRIPTION           # Package metadata (name, version, dependencies)
├── NAMESPACE             # Exported functions and imports (auto-generated by roxygen)
├─ R/                     # Project functions and options
│  ├─ packages.R          # Centralised package installation/loading
│  └─ options.R           # Random seed, RNGkind, global options and logging
├─ _targets.R             # {targets} pipeline definition
├─ profiles/targets/      # Execution profiles for {targets}
│  ├─ local.R
│  └─ ci.R
├─ config/
│  └─ config.yaml         # Project configuration for data paths, profiles, etc.
├─ data/                  # Data hierarchy (raw/external/interim/processed)
│  ├─ raw/                # Immutable raw data (tracked by DVC/git‑annex)
│  ├─ external/           # Reference datasets
│  ├─ interim/            # Parquet/DuckDB caches (ignored by git)
│  └─ processed/          # Output tables/rasters ready for reports
├─ metadata/
│  ├─ data_manifest.csv   # Manifest of raw data files with checksums
│  └─ (additional EML or RO‑Crate files)
├─ reports/
│  └─ paper.qmd           # Quarto manuscript/report stub
├─ tests/testthat/        # Unit tests for functions and pipeline checks
├── man/                  # Auto-generated documentation (via roxygen2)
├─ inst/containers/
│  ├─ Dockerfile          # Container specification for reproducible environment
│  └─ apptainer.def       # Apptainer/Singularity spec for HPC environments
├── vignettes/            # Vignettes illustrating model usage
├── renv/                 # Dependency management; renv.lock stored here
│   └── renv.lock
├── .Rbuildignore             # Files to exclude from package build (e.g. dev scripts, data)
├─ .github/workflows/ci.yml   # GitHub Actions continuous integration
├─ .pre-commit-config.yaml    # Pre‑commit hooks (styler, lintr, spell‑check, file size)
├─ .lintr                # Project linter configuration
├─ .gitignore            # Ignore logs, caches, and large intermediates
├─ .gitattributes        # Set LF line endings and diff drivers
├─ DESCRIPTION           # Research compendium metadata
├─ CITATION.cff          # Citation metadata
├─ LICENSE               # MIT license
├─ Makefile              # Conveniences: setup, run, test, lint, render, clean
```

### Quick start

After copying or cloning this repository, follow these steps:

```bash
# Initialise git and install hooks
git init
...

```

Raw data should live under `data/raw/` and be tracked with a large file management tool such as  
**git‑annex** or **DVC**; commit only the manifest and checksums.  Intermediates written by the  
pipeline are stored in `data/interim/` and are ignored by git.  

### Future Extensions

– Incorporate soil nutrient cycling, excretion, and reproduction modules.  
– Explore parameter calibration or sensitivity analyses.  
- Test with empirical papers.
– Integrate with `aDGVM2` or other ecological models, as suggested in the conversation context.
